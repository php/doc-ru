<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: ec45af749649dc0d6a23eaedeed1b601f7460813 Maintainer: sergey Status: ready -->
<!-- Reviewed: no -->
<sect1 xml:id="migration85.windows-support">
 <title>Подержка ОС Windows</title>

 <sect2 xml:id="migration85.windows-support.core">
  <title>Ядро PHP</title>

  <simpara>
   Конфигурационные переменные <constant>PHP_VERSION</constant>,
   <constant>PHP_MINOR_VERSION</constant> и
   <constant>PHP_RELEASE_VERSION</constant> теперь всегда являются числами.
   Ранее они были строками для сборок buildconf.
  </simpara>

  <simpara>
   <command>phpize</command> теперь отражает исходное дерево в каталоге сборки
   (как это уже работало для сборок в дереве);
   некоторые сборки модулей (особенно при использовании Makefile.frag.w32)
   могут потребовать настройки.
  </simpara>

  <simpara>
   Параметр конфигурации <option role="configure">--enable-sanitizer</option> теперь поддерживается для сборок MSVC.
   Она включает ASan и отладочные утверждения и поддерживается начиная с MSVC 16.10 и Windows 10.
  </simpara>

  <simpara>
   Параметр конфигурации <option role="configure">--with-uncritical-warn-choke</option>
   для сборок clang больше не поддерживается.
   Вместо этого выберите предупреждения, которые необходимо подавлять, с помощью CFLAGS.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.com">
  <title>COM</title>

  <simpara>
   Модуль теперь по умолчанию является разделяемым;
   ранее по умолчанию он был статическим, хотя официальные бинарные файлы Windows
   создавали общее расширение.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.ffi">
  <title>Модуль FFI</title>

  <simpara>
   При использовании
   <methodname>FFI::cdef</methodname> и <methodname>FFI::load</methodname>
   больше не нужно указывать библиотеку.
   Однако эту удобную функцию не следует использовать в производственной среде.
  </simpara>

 </sect2>

 <sect2 xml:id="migration85.windows-support.streams">
  <title>Потоки</title>

  <simpara>
   Если в массиве <parameter>$read</parameter> содержатся только потоки пайпов,
   а массивы <parameter>$write</parameter> и <parameter>$except</parameter> пусты,
   то функция <function>stream_select</function> теперь ведёт себя аналогично системам POSIX,
   то есть функция возвращается только в том случае, если хотя бы один пайп готов к чтению
   или по истечении времени ожидания.
   Ранее функция <function>stream_select</function> возвращалась немедленно,
   сообщая, что все потоки готовы к чтению.
  </simpara>

 </sect2>

</sect1>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
