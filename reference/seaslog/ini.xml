<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: 442f7d44593f81bd478c17705afaaae75e2f5972 Maintainer: evvc Status: ready -->
<!-- Reviewed: no -->
<section xml:id="seaslog.configuration" xmlns="http://docbook.org/ns/docbook">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  <table>
   <title>&ConfigureOptions; Seaslog</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>&Name;</entry>
      <entry>&Default;</entry>
      <entry>&Changeable;</entry>
      <entry>&Changelog;</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry><link linkend="ini.seaslog.appender">seaslog.appender</link></entry>
      <entry>1</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.appender-retry">seaslog.appender_retry</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.level">seaslog.level</link></entry>
      <entry>8</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.remote-host">seaslog.remote_host</link></entry>
      <entry>127.0.0.1</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.remote-port">seaslog.remote_port</link></entry>
      <entry>514</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.remote-timeout">seaslog.remote_timeout</link></entry>
      <entry>1</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.default-basepath">seaslog.default_basepath</link></entry>
      <entry>/var/log/www</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.default-logger">seaslog.default_logger</link></entry>
      <entry>default</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.default-template">seaslog.default_template</link></entry>
      <entry>%T | %L | %P | %Q | %t | %M</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.default-datetime-format">seaslog.default_datetime_format</link></entry>
      <entry>Y-m-d H:i:s</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.trace-error">seaslog.trace_error</link></entry>
      <entry>1</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.trace-exception">seaslog.trace_exception</link></entry>
      <entry>0</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.trace-notice">seaslog.trace_notice</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.trace-warning">seaslog.trace_warning</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.use-buffer">seaslog.use_buffer</link></entry>
      <entry>0</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.buffer-size">seaslog.buffer_size</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.buffer-disabled-in-cli">seaslog.buffer_disabled_in_cli</link></entry>
      <entry>0</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.disting-type">seaslog.disting_type</link></entry>
      <entry>0</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.disting-folder">seaslog.disting_folder</link></entry>
      <entry>1</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.disting-by-hour">seaslog.disting_by_hour</link></entry>
      <entry>0</entry>
      <entry><constant>INI_SYSTEM</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.recall-depth">seaslog.recall_depth</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.trim-wrap">seaslog.trim_wrap</link></entry>
      <entry>0</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.ignore-warning">seaslog.ignore_warning</link></entry>
      <entry>1</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
     <row>
      <entry><link linkend="ini.seaslog.throw-exception">seaslog.throw_exception</link></entry>
      <entry>1</entry>
      <entry><constant>INI_ALL</constant></entry>
      <entry><!-- leave empty, this will be filled by an automatic script --></entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </para>

 &ini.descriptions.title;

 <para>
  <variablelist>
   <varlistentry xml:id="ini.seaslog.appender">
     <term>
      <parameter>seaslog.appender</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает хранилище данных журнала записей. 1 - Файл, 2 - TCP, 3 - UDP (по умолчанию 1)
      </para>
      <para>
       SeasLog отправит журнал на сервер tcp://remote_host:remote_port или udp://remote_host:remote_port,
       если <emphasis>seaslog.appender</emphasis> настроен на <literal>2 (TCP)</literal> или <literal>3 (UDP)</literal>.
      </para>
      <para>
       Когда <emphasis>SeasLog</emphasis> отправляет журнал по TCP/UDP, стиль соответствует RFC5424.
       <literal>{logInfo}</literal>, на который влияет <emphasis>seaslog.default_template</emphasis>.
      </para>
      <screen>
<![CDATA[
Стиль журнала отформатирован следующим образом:
<15>1 2017-08-27T01:24:59+08:00 vagrant-ubuntu-trusty test/logger[27171]: 2016-06-25 00:59:43 | DEBUG | 21423 | 599157af4e937 | 1466787583.322 | this is a neeke debug
<14>1 2017-08-27T01:24:59+08:00 vagrant-ubuntu-trusty test/logger[27171]: 2016-06-25 00:59:43 | INFO | 21423 | 599157af4e937 | 1466787583.323 | this is a info log
<13>1 2017-08-27T01:24:59+08:00 vagrant-ubuntu-trusty test/logger[27171]: 2016-06-25 00:59:43 | NOTICE | 21423 | 599157af4e937 | 1466787583.324 | this is a notice log
]]>
      </screen>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.appender-retry">
     <term>
      <parameter>seaslog.appender_retry</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Записывает количество повторных попыток журнала.
       По умолчанию 0 (не записывает)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.buffer-disabled-in-cli">
     <term>
      <parameter>seaslog.buffer_disabled_in_cli</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Отключает буфер в CLI. 1 - Да, 0 - Нет (по умолчанию)
      </para>
      <para>
       Включите опцию buffer_disabled_in_cli.
       buffer_disabled_in_cli выключен по умолчанию.
       Если включить buffer_disabled_in_cli и запустить его в CLI, параметр seaslog.use_buffer будет сброшен,
       Seaslog НЕМЕДЛЕННО сделает запись в хранилище данных.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.buffer-size">
     <term>
      <parameter>seaslog.buffer_size</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Задайте для параметра buffer_size значение 100.
       Значение buffer_size по умолчанию 0, это означает, что буфер не используется.
       Если buffer_size > 0, SeasLog перезапишет данные в хранилище,
       если размер предварительно записанного в память журнала >= buffer_size, а затем обновите опрос памяти.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.default-basepath">
     <term>
      <parameter>seaslog.default_basepath</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Базовый путь журнала по умолчанию. По умолчанию "/var/log/www".
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.default-datetime-format">
     <term>
      <parameter>seaslog.default_datetime_format</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Стиль DateTime. По умолчанию "Y-m-d H:i:s".
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.default-logger">
     <term>
      <parameter>seaslog.default_logger</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Путь к регистратору по умолчанию. По умолчанию "default".
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.disting-by-hour">
     <term>
      <parameter>seaslog.disting_by_hour</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим регистратора по часам. 1 - Да, 0 - Нет (по умолчанию)
      </para>
      <note>
        <para>
        <emphasis>seaslog.disting_by_hour = 1</emphasis> переключает режим использования Logger DisTing по часам.
         Это означает, что SeasLog будет создавать файл каждый час.
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.disting-folder">
     <term>
      <parameter>seaslog.disting_folder</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим использование регистратора по папкам. 1 - Да (по умолчанию), 0 - Нет.
      </para>
      <note>
        <para>
        <emphasis>seaslog.disting_folder = 1</emphasis> переключает режим использования Logger DisTing по папкам,
         это означает, что SeasLog будет создавать файлы в папках и при этой настройке закрытия SeasLog
         создаст файл с подчёркиванием, используя тип регистратора и время, например, default_20180211.log.
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.disting-type">
     <term>
      <parameter>seaslog.disting_type</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим использования регистратора по типу. 1 - Да, 0 - Нет (по умолчанию)
      </para>
      <note>
        <para>
        <emphasis>seaslog.disting_type = 1</emphasis> переключает режим использования Logger DisTing по типу,
         это означает, что SeasLog создаст файл info\warn\error или другого типа.
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.ignore-warning">
     <term>
      <parameter>seaslog.ignore_warning</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим игнорирования предупреждений SeasLog. 1 - Да (по умолчанию), 0 - Нет.
      </para>
      <note>
        <para>
        <emphasis>seaslog.ignore_warning = 1</emphasis> Открывает предупреждение об игнорировании самого SeasLog.
         Когда права доступа к каталогу или порты сервера приёма заблокированы, они игнорируются;
         при закрытии выдаётся предупреждение.
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.level">
     <term>
      <parameter>seaslog.level</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Уровень записи регистратора. По умолчанию 8 (всё).
       0 - EMERGENCY, 1 - ALERT, 2 - CRITICAL, 3 - ERROR, 4 - WARNING,
       5 - NOTICE, 6 - INFO, 7 - DEBUG, 8-ALL
      </para>
      <note>
        <para>
         Примечание: элемент конфигурации был изменён, начиная с версии 1.7.0.
         До версии 1.7.0, чем меньше значение, тем больше записей ведётся в соответствии с уровнем:
         0 - всё, 1 - debug, 2 - info, 3-notice, 4-warning, 5-error, 6-critical, 7-alert, 8-emergency.
         До версии 1.7.0 значение по умолчанию - 0 (всё).
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.recall-depth">
     <term>
      <parameter>seaslog.recall_depth</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Глубина вызова функции журнала. Будет затронута переменная <literal>LineNo</literal> в <literal>%F</literal>.
       По умолчанию 0
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.remote-host">
     <term>
      <parameter>seaslog.remote_host</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Если вы используете запись TCP или UDP, настройте удалённый IP. По умолчанию "127.0.0.1".
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.remote-port">
     <term>
      <parameter>seaslog.remote_port</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Если вы используете запись TCP или UDP, настройте удалённый порт. По умолчанию 514.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.remote-timeout">
     <term>
      <parameter>seaslog.remote_timeout</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Если вы используете запись TCP или UDP, настройте удалённое время ожидания. По умолчанию 1 секунда
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.throw-exception">
     <term>
      <parameter>seaslog.throw_exception</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим выбрасывания исключения SeasLog. 1 - Да (по умолчанию), 0 - Нет.
      </para>
      <note>
        <para>
        <emphasis>seaslog.throw_exception = 1</emphasis> Открывает исключение, которое выбрасывает сам SeasLog.
         Если администрация каталога или порт принимающего сервера заблокированы, выбрасывается исключение;
         не выбрасывается исключение при закрытии.
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.trace-error">
     <term>
      <parameter>seaslog.trace_error</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Автоматическая запись "error" регистратором по умолчанию. 1 - Да (по умолчанию), 0 - Нет.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.trace-exception">
     <term>
      <parameter>seaslog.trace_exception</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Автоматическая запись "exception" регистратором по умолчанию. 1 - Да, 0 - Нет (по умолчанию).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.trace-notice">
     <term>
      <parameter>seaslog.trace_notice</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Автоматическая запись "notice" регистратором по умолчанию. 1 - Да, 0 - Нет (по умолчанию).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.trace-warning">
     <term>
      <parameter>seaslog.trace_warning</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Автоматическая запись "warning" регистратором по умолчанию. 1 - Да, 0 - Нет (по умолчанию).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.trim-wrap">
     <term>
      <parameter>seaslog.trim_wrap</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Обрезает \n и \r в сообщении журнала. 1 - Да, 0 - Нет (по умолчанию)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.use-buffer">
     <term>
      <parameter>seaslog.use_buffer</parameter>
      <type>int</type>
     </term>
     <listitem>
      <para>
       Переключает режим использования буфера журнала с памятью. 1 - Да, 0 - Нет (по умолчанию)
      </para>
      <note>
        <para>
        <emphasis>seaslog.use_buffer = 1</emphasis> Включите configure use_buffer.
         По умолчанию use_buffer выключен.
         Если включить use_buffer, SeasLog будет предварительно записывать журнал в память
         и он будет перезаписан в хранилище данных путём завершения запроса или выхода из процесса
         PHP (PHP RSHUTDOWN или PHP MSHUTDOWN).
        </para>
      </note>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="ini.seaslog.default-template">
     <term>
      <parameter>seaslog.default_template</parameter>
      <type>string</type>
     </term>
     <listitem>
      <para>
       Шаблон журнала по умолчанию.
       По умолчанию "%T | %L | %P | %Q | %t | %M".
      </para>
      <note>
        <para>
         Предоставляются следующие переменные по умолчанию, которые можно использовать непосредственно
         в шаблоне журнала и заменять соответствующим значением при создании журнала.
        </para>
        <para>
         Шаблон журнала по умолчанию: <literal>seaslog.default_template = "%T | %L | %P | %Q | %t | %M"</literal>,
         это означает, что стиль журнала по умолчанию: <literal>{dateTime} | {level} | {pid} | {uniqid} | {timeStamp} | {logInfo}</literal>
        </para>
        <para>
         Если вы используете собственный шаблон журнала, например: <literal>seaslog.default_template = "[%T]:%L %P %Q %t %M"</literal>,
         это будет означать, что стиль журнала был настроен как: <literal>[{dateTime}]:{level} {pid} {uniqid} {timeStamp} {logInfo}</literal>
        </para>
        <table>
          <title>Таблица переменных по умолчанию Seaslog</title>
          <tgroup cols="2">
            <thead>
              <row>
                <entry>Variable Name</entry>
                <entry>Описание</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>%L</entry>
                <entry>Уровень.</entry>
              </row>
              <row>
                <entry>%M</entry>
                <entry>Сообщение.</entry>
              </row>
              <row>
                <entry>%T</entry>
               <entry>DateTime. Такое как <literal>2017-08-16 19:15:02</literal>, затронутое <literal>seaslog.default_datetime_format</literal>.</entry>
              </row>
              <row>
                <entry>%t</entry>
               <entry>Timestamp. Такое как <literal>1502882102.862</literal>, с точностью до миллисекунд.</entry>
              </row>
              <row>
                <entry>%Q</entry>
                <entry>
                 RequestId. Чтобы различать один запрос, например,
                 не вызывать функцию <literal>SeasLog::setRequestId($string)</literal>, при инициализации запроса
                 используется уникальное значение, сгенерированное встроенной функцией <literal>static char *get_uniqid()</literal>.
               </entry>
              </row>
              <row>
                <entry>%H</entry>
                <entry>HostName.</entry>
              </row>
              <row>
                <entry>%P</entry>
                <entry>ProcessId.</entry>
              </row>
              <row>
                <entry>%D</entry>
               <entry>Domain:Port. Такое как <literal>www.cloudwise.com:80</literal>; Если CLI, то <literal>cli</literal>.</entry>
              </row>
              <row>
                <entry>%R</entry>
               <entry>URI запроса. Такой как <literal>/app/user/signin</literal>;
                Если CLI, то, например <literal>CliIndex.php</literal>.</entry>
              </row>
              <row>
                <entry>%m</entry>
               <entry>Метод запроса. Такой как <literal>Get</literal>; Если CLI, то, используется команда, например, <literal>/bin/bash</literal>.</entry>
              </row>
              <row>
                <entry>%I</entry>
               <entry>IP-адрес клиента; Если CLI, то <literal>local</literal>.
                Приоритет значений: HTTP_X_REAL_IP > HTTP_X_FORWARDED_FOR > REMOTE_ADDR</entry>
              </row>
              <row>
                <entry>%F</entry>
               <entry>FileName:LineNo. Такое как <literal>UserService.php:118</literal>.</entry>
              </row>
              <row>
                <entry>%U</entry>
               <entry>MemoryUsage в байтах. Вызов <literal>zend_memory_usage</literal>.</entry>
              </row>
              <row>
                <entry>%u</entry>
               <entry>PeakMemoryUsage в байтах. Вызов <literal>zend_memory_peak_usage</literal>.</entry>
              </row>
              <row>
                <entry>%C</entry>
               <entry><literal>TODO</literal> Class::Action. Такое как <literal>UserService::getUserInfo</literal></entry>
              </row>
            </tbody>
            </tgroup>
        </table>
      </note>
     </listitem>
    </varlistentry>
  </variablelist>
 </para>
</section>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
