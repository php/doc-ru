<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: dcd5448282973a659f62e4240fb6e50aae0eb78b Maintainer: malferov Status: ready -->
<!-- Reviewed: no -->
 <chapter xml:id="chm.search" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Полнотекстовый поиск</title>

  <para>
   В этой версии PHP-руководства появился расширенный полнотекстовый поиск,
   который поддерживают программы для просмотра CHM-файлов. Полнотекстовый поиск помогает пользователям
   находить слова в файлах справки. При поиске слова
   "Apache" программа покажет разделы, в которых встречается слово
   "Apache". Расширенный полнотекстовый поиск поддерживает логические операторы, подстановочные знаки
   и вложенные выражения. Пользователям также доступны: ограничение поиска только предыдущими результатами,
   сопоставление похожих слов или поиск только заголовков.
  </para>

  <para>
   Для начала поиска открывают вкладку «Поиск», вводят
   искомые слова, а затем нажимают клавишу Ввод, или кнопку «Разделы» или «Вывести разделы».
   Программа покажет список разделов PHP-руководства и заметок пользователей, в которых встречаются
   искомые слова. Логические операторы добавляют кнопкой со стрелкой «вправо»
   или вводом с клавиатуры. После вывода результатов список разделов сортируют по возрастанию
   по столбцам «Название», «Расположение» или «Ранг».
   По умолчанию результаты сортируются по рангу.
   Параметры поиска настраивают внизу вкладки.
  </para>

  <para>
   При стандартных настройках страница текущего раздела в панели просмотра подсветит найденные слова.
   За включение или отключение подсветки отвечает элемент «Подсвеченные фрагменты» в меню «Вид»
   или элемент «Включить подсветку искомых слов в тексте» в меню «Параметры». Из-за ограничений программы просмотра на длинной странице
   подсветятся только первые 500 искомых слов или фраз.
  </para>

  <sect1 xml:id="chm.search.rules">
   <title>Общие правила поиска</title>
   <para>
    Базовый поиск выполняют по слову или фразе, а уточняют
    подстановочными знаками, вложенными выражениями, логическими
    операторами, путём сопоставления похожих слов, фильтрацией по предыдущим
    результатам или поиском только в заголовках.
   </para>
   <para>
    Базовые правила составления запросов:
    <itemizedlist>
     <listitem>
      <simpara>Поиск нечувствителен к регистру, поэтому искомые слова вводят строчными или заглавными буквами.</simpara>
     </listitem>
     <listitem>
      <simpara>
       Поиск поддерживает произвольные сочетания букв и цифр.
       Отдельные программы просмотра игнорируют одиночные буквы а, б, в… и короткие частотные слова наподобие
       предлогов или союзов.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Знаки пунктуации — точка (.), двоеточие (:), точка с запятой (;),
       запятая (,), дефис (-) — игнорируются.
      </simpara>
     </listitem>
     <listitem>
      <simpara>Элементы запроса группируют двойными кавычками или круглыми скобками. Сами кавычки найти невозможно.</simpara>
     </listitem>
    </itemizedlist>
   </para>
   <para>
    <note>
     <para>
      Названия файлов с расширениями обрамляют двойными кавычками:
      "filename.ext". Иначе точка разобьёт название на два отдельных слова,
      а между словами по умолчанию подставляется логическое И,
      поэтому без кавычек программа станет искать "filename AND ext".
     </para>
    </note>
   </para>
  </sect1>

  <sect1 xml:id="chm.search.words">
   <title>Поиск слов и фраз</title>
   <para>
    При поиске слов и фраз поддерживаются выражения с подстановочными знаками.
    Вопросительный знак (?) заменяет один символ, звёздочка (*) —
    произвольное количество символов. Следующая таблица описывает результаты этих видов поиска.
    <table>
     <title>Поиск слов и фраз</title>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>Слова для поиска</entry>
        <entry>Пример</entry>
        <entry>Результат</entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>Одно слово</entry>
        <entry>select</entry>
        <entry>Разделы со словом "select", включая грамматические формы "selector" и "selection".</entry>
       </row>
       <row>
        <entry>Фраза</entry>
        <entry>"new operator" или new operator</entry>
        <entry>
         <simpara>
          Разделы с буквальной фразой "new operator" и грамматическими вариациями.
         </simpara>
         <simpara>
          Без кавычек поиск ищет слова "new" И "operator" по отдельности,
          а не фразу целиком.
         </simpara>
        </entry>
       </row>
       <row>
        <entry>Подстановочные знаки</entry>
        <entry>esc* или HT??</entry>
        <entry>
         <simpara>
          Поиск выражения со звездочкой вернёт разделы со словами, которые начинаются на "esc": ESC, escape,
          escalation и другие. Звёздочку нельзя указывать единственным символом в поисковой фразе.
         </simpara>
         <simpara>
          Выражение со знаками вопроса найдёт слова из четырёх букв
          с началом на "HT": HTTP, HTML и другие. Вопросительный знак тоже нельзя указывать в запросе единственным символом.
         </simpara>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </table>
   </para>
   <para>
    <note>
     <para>
      Флажок «Сопоставлять похожие слова» подключает поиск грамматических форм
      искомой фразы и находит только варианты слова с типичными суффиксами.
      Например, поиск слова "add" найдёт "added",
      но не найдёт "additive". Опция работает независимо от других настроек
      или синтаксиса. При поиске по заголовкам подбираются формы слов
      в заголовках. Кавычки и операторы не мешают поиску форм: например,
      по запросу "stemmed search" программа также найдёт словосочетание "stemming search".
     </para>
    </note>
   </para>
  </sect1>

  <sect1 xml:id="chm.search.terms">
   <title>Уточнение поисковых запросов</title>
   <para>
    Операторы AND, OR, NOT и NEAR помогают точнее определить отношение между
    словами. Следующая таблица показывает работу операторов. При пропуске операторов
    между словами неявно устанавливается связь И. Например, фраза "server cgi security"
    эквивалентна запросу "server AND cgi AND security".
    <table>
     <title>Операторы поиска</title>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>Слова для поиска</entry>
        <entry>Пример</entry>
        <entry>Результат</entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>Оба слова в разделе</entry>
        <entry>http AND apache</entry>
        <entry>Разделы, в которых встречаются оба слова: "http" и "apache".</entry>
       </row>
       <row>
        <entry>Хотя бы одно слово в разделе</entry>
        <entry>ming OR swflib</entry>
        <entry>Разделы, в которых встречается слово "ming" или слово "swflib", или оба.</entry>
       </row>
       <row>
        <entry>Первое слово без второго</entry>
        <entry>xml NOT expat</entry>
        <entry>Разделы со словом "xml", но без слова "expat".</entry>
       </row>
       <row>
        <entry>Два слова рядом</entry>
        <entry>database NEAR security</entry>
        <entry>Разделы, в которых расстояние между словами "database" и "security" не превышает восьми слов.</entry>
       </row>
      </tbody>
     </tgroup>
    </table>
   </para>
   <para>
    <note>
     <para>
      Вместо логических операторов AND, OR и NOT работают символы &, | и !.
      Старые версии программ не поддерживают замену логических операторов символами.
     </para>
    </note>
   </para>
  </sect1>

  <sect1 xml:id="chm.search.nested">
   <title>Вложенные выражения в поисковых запросах</title>
   <para>
    Вложенные выражения помогают строить сложные поисковые запросы при поиске информации.
    Например, запрос "html AND ((smtp OR pop3) NEAR mail)" найдёт разделы,
    в которых слово "html" встречается вместе со словами "smtp" и "mail"
    или словами "pop3" и "mail" недалеко друг от друга.
   </para>
   <para>
    Базовые правила поиска справочных разделов по запросам с вложенными выражениями:
    <itemizedlist>
     <listitem>
      <simpara>
       Выражения внутри запроса указывают в круглых скобках.
       Выражения в скобках вычисляются раньше остальной части запроса.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       Запрос без вложенного выражения вычисляется слева направо. Например,
       "mail NOT pop3 OR smtp" найдёт разделы со словом "mail" без
       слова "pop3" или разделы только со словом "smtp". А запрос
       "mail NOT (pop3 OR smtp)" найдёт разделы, которые содержат слово "mail",
        но в которых не встречается ни слово "pop3", ни слово "smtp".
      </simpara>
     </listitem>
     <listitem>
      <simpara>Вложенность выражений ограничивается пятью уровнями.</simpara>
     </listitem>
    </itemizedlist>
   </para>
  </sect1>
  <!--
  <sect1 xml:id="chm.search.notes">
   <title>Manual Content and User Note Separation</title>
   <para>
    The manual content and the user notes are separated to
    <filename>php_manual_LANG.chm</filename> and
    <filename>php_manual_notes.chm</filename>. There were several reasons
    to do this, including:
    <itemizedlist>
     <listitem>
      <simpara>
       This way you can update the user notes and the manual independently
       as you need.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       You can have more than one language of the manual, while only
       need to have one notes file. All the CHM files need to be in the
       same directory, and all translations need to share the same
       preferences if you would not like to have more then one notes file.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       You can bookmark manual pages with notes, or just a notes part
       of a page separately.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       You can "turn off" user note display and user note search results by
       simply deleting <filename>php_manual_notes.chm</filename>, moving it
       out of the directory or renaming it.
      </simpara>
     </listitem>
    </itemizedlist>
    All these benefits lead us to provide the manual the way you can see it
    right now. This distribution had the effect on the full text search that
    you get search results from the manual content and from the user notes
    as separate ones. The "Location" column shows the source of the result,
    also enabling you to "add precedence" to manual content results with
    ordering the results by "Location". User note page titles are also
    prefixed with "N:" to make them easily distinguishable in the favorites
    list (there's no location info in the favorites list).
   </para>
  </sect1>
  -->

 </chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
